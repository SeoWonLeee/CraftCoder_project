# 📍 CraftCoder Backend

## 프로젝트 개요
실제 고객 데이터를 바탕으로 요구 사항을 분석하고, 이를 기반으로 백엔드 시스템을 설계, 개발하고자 했습니다. <br/> 
<br/> 
문화센터 운영팀이 강좌 예약과 구독, 회원·강사 관리를 한곳에서 아우르며 수강생에게 일관된 경험을 제공하도록 돕는 백오피스 서비스입니다. <br/> 
관리자와 강사가 요청과 변경 내역을 같은 흐름으로 검토·승인할 수 있게 설계되어 서로의 신뢰와 커뮤니케이션을 강화하는 데 초점을 맞춥니다. <br/> 
강좌 대기열과 알림, 강좌·구독 운영을 모듈별로 담아 문화센터 프로그램이 성장해도 운영 아이덴티티를 유지할 수 있는 확장성과 독립성을 추구합니다. <br/> 

<br/>  

## 역할 및 책임
- **관리자 강사 관리 REST API** 설계 및 구현  
  - 강사 목록, 상세 조회 및 강사 요청 기반의 강좌 수정·삭제·상태 변경 시나리오를 제공했습니다.  
- **변경 내역 검증 로직 구축**  
  - 강좌 변경 시 요청 전후 데이터를 비교하여 운영자가 변경 내역을 즉시 확인할 수 있도록 했습니다.  
- **강사 요청 처리 플로우 설계**  
  - 강사 요청 생성·승인·거절·완료를 담당하는 서비스 계층을 구축하고, 강좌 소유자 검증 및 역할 검증으로 권한 없는 조작을 차단했습니다.  
- **관리자 전용 요청 API 개발**  
  - 요청 전체/상세 조회, 승인·거절 플로우를 제공하여 운영팀이 강사 요청을 일괄 관리할 수 있도록 했습니다.  

<br/>  

## 주요 기능
- **강좌 대기열 및 결제 흐름 자동화**  
  - Redis Sorted Set과 Redisson 분산 락을 이용해 대기열/활성 큐를 관리하고, 결제 완료·취소 시 수강 상태를 업데이트하며 가용 좌석 발생 시 알림 이벤트를 발행했습니다.  
- **실시간 알림 및 재전송 보장**  
  - SSE 기반 구독을 제공하고, 유실된 이벤트 재전송을 위해 캐시 및 비동기 이벤트 리스너를 구성했습니다.  
- **관리자 강좌 관리와 카테고리 필터**  
  - 강좌 목록·상세 조회, 생성, 카테고리별 필터링, 수강생 목록 확인을 지원했습니다.  
- **구독 프로그램 라이프사이클 관리**  
  - 프로그램 등록 시 중복 검증, 소프트 삭제, 단건 조회 API를 제공해 상품 운영을 단순화했습니다.  

<br/>  

## 기술 스택
- **언어/빌드**: Java 17, Gradle 멀티 모듈  
- **프레임워크**: Spring Boot 3.4.1, Spring Cloud, Spring Security  
- **데이터/캐시**: MySQL 8.0, Redis, Redisson  
- **운영/도구**: Docker Compose, OpenAPI(Swagger), Prometheus, SSE  

<br/>  

## 문제 해결 사례
- **대기열 동시성 제어**  
  - Redisson 기반 분산 락과 Scheduled 작업으로 대기/활성 큐를 관리하고, 좌석 확보 시 알림 이벤트를 발행해 동시 접속 환경에서도 일관된 처리를 보장했습니다.  
- **알림 유실 방지**  
  - SSE 연결이 끊겨도 이벤트 캐시를 통해 누락된 알림을 재전송하고, 트랜잭션 커밋 이후 비동기 이벤트로 발송하여 안정성을 확보했습니다.  

<br/>  

## 결과 및 성과
- 관리자와 강사 간 **강좌 변경·삭제·상태 변경 요청을 표준화된 API**로 제공하여 운영자가 내역을 검증·승인할 수 있는 워크플로를 마련했습니다.  
- 대기열 관리, 알림 발송, 강좌/구독 관리 기능을 모듈 단위로 분리하여 **향후 확장성과 독립 배포 가능성**을 확보했습니다.  

<br/>  

## 데이터 참고
- **ERD**  
  <img width="1570" height="666" alt="Image" src="https://github.com/user-attachments/assets/764b7e55-299f-43ad-bf8d-3e7b5d02a6a3" />

<br/>  

## 참고 링크
- GitHub 조직: https://github.com/orgs/DeepDive-2nd-Project/repositories  
- Jira 프로젝트: https://scwdltjdnjs-1736741553613.atlassian.net/jira/software/projects/KAN/list  
